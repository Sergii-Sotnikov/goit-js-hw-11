{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n    closeText: 'x',\n    showCounter: true,\n})\n\nexport const refs = {\n    formElem: document.querySelector(\".form\"),\n    listElem: document.querySelector(\".gallery\")\n};\n\n\nexport function handlerFormSub(event){\n    event.preventDefault();\n    const formInput = event.target.elements[\"search-text\"].value.trim();\n    event.target.reset();\n    return formInput;\n}\n\n\nexport function createGallery(images){\n    const { hits } = images;\n    const markup = hits.map(hit =>{\n    return `<li class=\"item-gallery\">\n    <a href=\"${hit.largeImageURL}\">\n    <img class=\"gallery-image\" \n      src=\"${hit.largeImageURL}\" \n      alt=\"${hit.tags}\" \n      width=\"360px\"\n      height=\"152px\">\n    </a>\n      <ul class=\"list-descriptions\">\n        <li class=\"name\">\n          <p class=\"title-text\">Likes <span class=\"text\">${hit.likes}</span></p>\n        </li>\n        <li class=\"name\">\n          <p class=\"title-text\">Views <span class=\"text\">${hit.views}</span></p>\n        </li>\n        <li class=\"name\">\n          <p class=\"title-text\">Comments <span class=\"text\">${hit.comments}</span></p>\n        </li>\n        <li class=\"name\">\n          <p class=\"title-text\">Downloads <span class=\"text\">${hit.downloads}</span></p>\n        </li>\n      </ul>\n  </li>`\n    }).join(\"\");\n    refs.listElem.insertAdjacentHTML(\"beforeend\", markup);\n\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n  refs.listElem.innerHTML = \"\";\n}\n\nexport function showLoader(){\ndocument.getElementById('loader-wrap').hidden = false;\n}\n\n\n\nexport function hideLoader() {\n  document.getElementById('loader-wrap').hidden = true;\n}\n\n\n","import axios from 'axios';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function getImagesByQuery(query) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const API_KEY = '50348877-00e3539199181f67fed2a274d'\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n  });\n\n  const url = `${BASE_URL}?${params.toString()}`;\n  console.log(url);\n\n  return axios.get(url).then(res => res.data)\n}\n\n","import { refs } from \"./js/render-functions\";\nimport { handlerFormSub } from \"./js/render-functions\";\nimport { getImagesByQuery } from \"./js/pixabay-api\" ;\nimport { createGallery } from \"./js/render-functions\";\nimport { clearGallery } from \"./js/render-functions\";\nimport iziToast from 'izitoast';\nimport { showLoader } from \"./js/render-functions\";\nimport { hideLoader } from \"./js/render-functions\";\n\n\n\nrefs.formElem.addEventListener('submit', (event) => {\n  event.preventDefault();\n  clearGallery();\n  showLoader()\n  const query = handlerFormSub(event);\n  getImagesByQuery(query).then(data =>{\n    console.log(data.hits.length)\n      hideLoader();\n    if(data.hits.length === 0){\n        iziToast.show({\n          title: '',\n          titleColor: '#FFFFFF',\n          titleSize: '16px',\n          backgroundColor: '#EF4040',\n          iconUrl: './img/bi_x-octagon.svg',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          color: 'red',\n          messageColor: '#FFFFFF',\n          messageSize: '16px',\n          closeOnEscape: true,\n          closeOnClick: true,\n          theme: 'dark',\n  })\n    return null;\n    } else createGallery(data);\n}).catch(error =>{\n    iziToast.show({\n          title: 'ERROR',\n          titleColor: '#FFFFFF',\n          titleSize: '16px',\n          backgroundColor: '#EF4040',\n          iconUrl: './img/bi_x-octagon.svg',\n          message: 'Something wrong',\n          position: 'topRight',\n          color: 'red',\n          messageColor: '#FFFFFF',\n          messageSize: '16px',\n          closeOnEscape: true,\n          closeOnClick: true,\n          theme: 'dark',\n});\n    return null;\n}\n)\n});\n"],"names":["lightbox","SimpleLightbox","refs","handlerFormSub","event","formInput","createGallery","images","hits","markup","hit","clearGallery","showLoader","hideLoader","getImagesByQuery","query","BASE_URL","API_KEY","params","url","axios","res","data","iziToast","error"],"mappings":"+vBAGI,MAAMA,EAAW,IAAIC,EAAe,aAAc,CAClD,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,UAAW,IACX,YAAa,EACjB,CAAC,EAEYC,EAAO,CAChB,SAAU,SAAS,cAAc,OAAO,EACxC,SAAU,SAAS,cAAc,UAAU,CAC/C,EAGO,SAASC,EAAeC,EAAM,CACjCA,EAAM,eAAc,EACpB,MAAMC,EAAYD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAC7D,OAAAA,EAAM,OAAO,QACNC,CACX,CAGO,SAASC,EAAcC,EAAO,CACjC,KAAM,CAAE,KAAAC,CAAM,EAAGD,EACXE,EAASD,EAAK,IAAIE,GACjB;AAAA,eACIA,EAAI,aAAa;AAAA;AAAA,aAEnBA,EAAI,aAAa;AAAA,aACjBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2DAMsCA,EAAI,KAAK;AAAA;AAAA;AAAA,2DAGTA,EAAI,KAAK;AAAA;AAAA;AAAA,8DAGNA,EAAI,QAAQ;AAAA;AAAA;AAAA,+DAGXA,EAAI,SAAS;AAAA;AAAA;AAAA,QAIvE,EAAE,KAAK,EAAE,EACVR,EAAK,SAAS,mBAAmB,YAAaO,CAAM,EAEpDT,EAAS,QAAO,CACpB,CAEO,SAASW,GAAe,CAC7BT,EAAK,SAAS,UAAY,EAC5B,CAEO,SAASU,GAAY,CAC5B,SAAS,eAAe,aAAa,EAAE,OAAS,EAChD,CAIO,SAASC,GAAa,CAC3B,SAAS,eAAe,aAAa,EAAE,OAAS,EAClD,CCjEO,SAASC,EAAiBC,EAAO,CACpC,MAAMC,EAAW,2BACXC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAG,EAEKI,EAAM,GAAGH,CAAQ,IAAIE,EAAO,SAAU,CAAA,GAC5C,eAAQ,IAAIC,CAAG,EAERC,EAAM,IAAID,CAAG,EAAE,KAAKE,GAAOA,EAAI,IAAI,CAC5C,CCRAnB,EAAK,SAAS,iBAAiB,SAAWE,GAAU,CAClDA,EAAM,eAAc,EACpBO,IACAC,EAAY,EACZ,MAAMG,EAAQZ,EAAeC,CAAK,EAClCU,EAAiBC,CAAK,EAAE,KAAKO,GAAO,CAGlC,GAFA,QAAQ,IAAIA,EAAK,KAAK,MAAM,EAC1BT,IACCS,EAAK,KAAK,SAAW,EACpB,OAAAC,EAAS,KAAK,CACZ,MAAO,GACP,WAAY,UACZ,UAAW,OACX,gBAAiB,UACjB,QAAS,yBACT,QAAS,2EACT,SAAU,WACV,MAAO,MACP,aAAc,UACd,YAAa,OACb,cAAe,GACf,aAAc,GACd,MAAO,MACjB,CAAG,EACQ,KACAjB,EAAcgB,CAAI,CAC7B,CAAC,EAAE,MAAME,IACLD,EAAS,KAAK,CACR,MAAO,QACP,WAAY,UACZ,UAAW,OACX,gBAAiB,UACjB,QAAS,yBACT,QAAS,kBACT,SAAU,WACV,MAAO,MACP,aAAc,UACd,YAAa,OACb,cAAe,GACf,aAAc,GACd,MAAO,MACjB,CAAC,EACU,KAEX,CACA,CAAC"}